(flatten):
	for i in copy:
		i
		if = :list type dup:
			(flatten)

flatten l:
	[ (flatten) l ]


!. flatten [ [ 1 ] 2 [ [ 3 4 ] 5 ] [ [ [] ] ] [ [ [ 6 ] ] ] 7 8 [] ]
